<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <!-- ä¿æŒåŸæœ‰æ ·å¼ä¸å˜ -->
    <style>
        /* æ–°å¢å¯†ç æ¡†æ ·å¼ */
        .password-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .password-box {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .password-input {
            padding: 10px;
            margin: 10px;
            width: 200px;
            border: 2px solid #4a6ea9;
            border-radius: 5px;
        }

        .password-btn {
            background: #4a6ea9;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
    </style>
</head>

<body>
    <!-- æ–°å¢å¯†ç éªŒè¯å¼¹çª— -->
    <div class="password-modal" id="passwordModal">
        <div class="password-box">
            <h3>ğŸ”’ è¯·è¾“å…¥è®¿é—®å¯†ç </h3>
            <input type="password" id="passwordInput" class="password-input" placeholder="è¾“å…¥å¯†ç ">
            <div class="error-msg" id="errorMsg"></div>
            <button onclick="cpwd()" class="password-btn">è¿›å…¥ç³»ç»Ÿ</button>
            <div style="margin-top:15px">
                <a href="#" onclick="showChangePassword()" style="color:#4a6ea9;font-size:0.9em">ä¿®æ”¹å¯†ç </a>
            </div>
        </div>
    </div>

    <script>
        function cpwd() {
            var data = { "pwd": document.getElementById('passwordInput').value }
            var httpRequest = new XMLHttpRequest();//ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºéœ€è¦çš„å¯¹è±¡
            httpRequest.open('POST', '/login', true); //ç¬¬äºŒæ­¥ï¼šæ‰“å¼€è¿æ¥/***å‘é€jsonæ ¼å¼æ–‡ä»¶å¿…é¡»è®¾ç½®è¯·æ±‚å¤´ ï¼›å¦‚ä¸‹ - */
            httpRequest.setRequestHeader("Content-type", "application/json");//è®¾ç½®è¯·æ±‚å¤´ æ³¨ï¼špostæ–¹å¼å¿…é¡»è®¾ç½®è¯·æ±‚å¤´ï¼ˆåœ¨å»ºç«‹è¿æ¥åè®¾ç½®è¯·æ±‚å¤´ï¼‰var obj = { name: 'zhansgan', age: 18 };
            httpRequest.send(JSON.stringify(data));//å‘é€è¯·æ±‚ å°†jsonå†™å…¥sendä¸­
            /**
             * è·å–æ•°æ®åçš„å¤„ç†ç¨‹åº
             */
            httpRequest.onreadystatechange = function () {//è¯·æ±‚åçš„å›è°ƒæ¥å£ï¼Œå¯å°†è¯·æ±‚æˆåŠŸåè¦æ‰§è¡Œçš„ç¨‹åºå†™åœ¨å…¶ä¸­
                if (httpRequest.readyState == 4 && httpRequest.status == 200) {//éªŒè¯è¯·æ±‚æ˜¯å¦å‘é€æˆåŠŸ
                    var json = httpRequest.responseText;//è·å–åˆ°æœåŠ¡ç«¯è¿”å›çš„æ•°æ®
                    console.log(json);
                    if (json == 'jmp') {
                        location.assign("/jfb")
                    }
                    else {
                        location.assign("/err_ph")
                    }
                }
            };
        }
    </script>
</body>

</html>